# Problem: webpack中source map是什么？生产环境怎么用？

*[interview]: start
    1 source map 应在开发环境中使用，作为一种调试手段
    2 source map 不应该在生产环境中使用，source map 的文件一般较大，不仅会导致额外的网络传输，还容易暴露原始代码。即便要在生产环境中使用 source map，用于调试真实的代码运行问题，也要做出一些处理规避网络传输和代码暴露的问题。


在Webpack中，Source Map 是一种调试工具，可以将编译后的代码映射回原始代码。这对于开发者来说非常有用，因为它允许他们在浏览器中调试时查看和定位原始源代码，而不是处理混淆或压缩过的代码。
Source Map 的作用：
● 调试帮助：可以轻松找到对应的原始代码行，而不是压缩后的代码。
● 错误位置跟踪：当出现错误时，可以准确知道错误发生在原始代码的哪个位置。
生产环境中的使用：
在生产环境中，通常希望通过使用 Source Map 以某种方式来平衡可调试性和安全性。有几种不同的方式来生成和使用 Source Map：


配置 Source Map 选项： 在 webpack.config.js 文件中，您可以使用 devtool 属性来配置 Source Map 的生成。常见的选项包括：
○ source-map：生成完整的 Source Map，适合生产环境，但文件较大。
○ hidden-source-map：生成 Source Map，但不将其链接到最终的构建文件中，保护代码隐私。
○ nosources-source-map：生成 Source Map，但不包含源代码，适用于只想查看错误位置的情况。
示例配置：
javascript
module.exports = {
// … 其他配置
devtool: ‘source-map’, // 或者 ‘hidden-source-map’
};

生成 Source Map 文件： 当您构建项目时，Webpack 会根据您设置的 devtool 生成相应的 Source Map 文件。确保将这些文件部署到生产环境，以便在需要时进行调试。

保护原始代码： 虽然 Source Map 是一个很好的调试工具，但在生产环境中，您可能希望限制访问原始代码的一些方式。使用 hidden-source-map 可以提高安全性，因为用户在浏览器工具中看不到直接的链接。
小贴士：
● 在生产环境中，使用 Source Map 可能会增加构建体积，因此要根据项目需求决定是要生成 Source Map。
● 确保您了解安全性问题，特别是当原始代码包含敏感信息时。
总结一下，Source Map 在 Webpack 中是一个强大的调试工具，它可以帮助开发者更方便地追踪和定位问题。在生产环境中，选择合适的 Source Map 配置可以在可调试性和安全性之间取得平衡。

*[interview]: end
